
<h4 style="text-align: center;">BUSQUEDA</h4>
<app-search-cita (searchTextChanged)="onSearchTextEntered($event)"></app-search-cita>
<hr>

<div class="row">
    <ng-container *ngIf="dataP; else  elseUserLoader;" >
        <app-cardlist-planes [dataPlan]="data"   *ngFor="let data of dataP | filter:searchText;" class="col-8 col-md-5 col-xl-4" ></app-cardlist-planes>
    </ng-container>
    <div class="addPlan" class="col-8 col-md-5 col-xl-4">
        <button style="width: 100%; height:30%; margin: 50% auto; font-size: larger;" class="btn btn-success" (click)="ModalOpenFisio(contenido)" > <i class="bi bi-file-plus" ></i>  Agregar plan</button>
        
    </div>
<!-- [actDatos]="actDatos" -->


    <ng-template #elseUserLoader>
        <app-card-loader class="col-8 col-md-5 col-xl-4" [bars]="4" *ngFor="let i of [0,1,2,3,4,5,6,7]" ></app-card-loader>
         </ng-template>
</div>




<ng-template #contenido let-modalF>
    <div aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">EDIT PLAN</h5>
                    <button type="button" class="btn btn-secondary" (click)="modalF.dismiss()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form [formGroup]="formAddPlan" (ngSubmit)="subAddtePlan()" errorTailor
                        class="form-submitted">
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Tiempo:</label>

                            <input type="text" class="form-control" name="fecha" formControlName="tiempo" >


                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Nombre:</label>

                            <input type="text" class="form-control" id="recipient-name" name="time" formControlName="nombre_plan">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="col-form-label">Descripcion:</label>
                            <textarea class="form-control" id="message-text" formControlName="descripcion"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Diagnostico:</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="diagnostico" >
                        </div>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Enfermedades:</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="enfermedades" >
                        </div>
 


                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Nivel de dolor:</label>
                            <select  id="" class="form-control" formControlName="nivelDolor" >
                                <option value="bajito">bajito</option>
                                <option value="bajo">bajo</option>
                                <option value="medio">medio</option>
                                <option value="alto">alto</option>
                                <option value="acomoduele">a como duele</option>
                                <option value="morido">morido</option>
                            </select>
                        </div>
                        

                     

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" (click)="modalF.close()"
                                data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary" >Send message</button>
                        </div>
                    </form>

                </div>

            </div>
        </div>
    </div>
</ng-template>

